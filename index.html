<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monthly Calendar</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Using Inter font */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Ensure consistent height for calendar cells */
        .calendar-day {
            height: 12vh;
            min-height: 80px;
            max-height: 120px;
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 flex items-center justify-center min-h-screen p-4 transition-colors duration-200">

    <div class="w-full max-w-4xl bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden">
        
        <!-- Calendar Header: Month/Year and Navigation -->
        <div class="flex items-center justify-between px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b dark:border-gray-600">
            <button id="prev-month" aria-label="Previous Month" class="p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
            </button>
            <h2 id="month-year" class="text-2xl font-semibold text-gray-800 dark:text-gray-100"></h2>
            <button id="next-month" aria-label="Next Month" class="p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </button>
        </div>

        <!-- Calendar Grid -->
        <div class="p-2">
            <!-- Days of the Week Header -->
            <div class="grid grid-cols-7 gap-px">
                <div class="text-center text-sm font-medium text-gray-500 dark:text-gray-400 py-2 uppercase tracking-wider">Sun</div>
                <div class="text-center text-sm font-medium text-gray-500 dark:text-gray-400 py-2 uppercase tracking-wider">Mon</div>
                <div class="text-center text-sm font-medium text-gray-500 dark:text-gray-400 py-2 uppercase tracking-wider">Tue</div>
                <div class="text-center text-sm font-medium text-gray-500 dark:text-gray-400 py-2 uppercase tracking-wider">Wed</div>
                <div class="text-center text-sm font-medium text-gray-500 dark:text-gray-400 py-2 uppercase tracking-wider">Thu</div>
                <div class="text-center text-sm font-medium text-gray-500 dark:text-gray-400 py-2 uppercase tracking-wider">Fri</div>
                <div class="text-center text-sm font-medium text-gray-500 dark:text-gray-400 py-2 uppercase tracking-wider">Sat</div>
            </div>

            <!-- Calendar Days -->
            <div id="calendar-days" class="grid grid-cols-7 gap-px bg-gray-200 dark:bg-gray-600 border-t border-l border-gray-200 dark:border-gray-600">
                <!-- Days will be generated by JavaScript -->
            </div>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const monthYearEl = document.getElementById('month-year');
            const daysEl = document.getElementById('calendar-days');
            const prevBtn = document.getElementById('prev-month');
            const nextBtn = document.getElementById('next-month');

            // Use a date object to track the currently displayed month
            let currentDate = new Date();
            // Set to the first day of the month to avoid day-related issues
            currentDate.setDate(1); 

            const today = new Date();

            function renderCalendar() {
                const year = currentDate.getFullYear();
                const month = currentDate.getMonth(); // 0-11

                // 1. Set Month/Year Header
                monthYearEl.textContent = `${currentDate.toLocaleString('default', { month: 'long' })} ${year}`;

                // 2. Clear previous days
                daysEl.innerHTML = '';

                // 3. Get calendar calculation values
                const firstDayOfMonth = new Date(year, month, 1).getDay(); // 0=Sun, 1=Mon...
                const daysInMonth = new Date(year, month + 1, 0).getDate();
                const daysInPrevMonth = new Date(year, month, 0).getDate();

                // 4. Calculate padding days from the previous month
                const prevMonthPaddingDays = firstDayOfMonth;

                // 5. Render previous month's padding days
                for (let i = 0; i < prevMonthPaddingDays; i++) {
                    const day = daysInPrevMonth - prevMonthPaddingDays + i + 1;
                    daysEl.appendChild(createDayElement(day, false, false));
                }

                // 6. Render current month's days
                for (let i = 1; i <= daysInMonth; i++) {
                    const isToday = 
                        i === today.getDate() &&
                        month === today.getMonth() &&
                        year === today.getFullYear();
                    
                    daysEl.appendChild(createDayElement(i, true, isToday));
                }

                // 7. Calculate and render next month's padding days
                const totalDaysRendered = prevMonthPaddingDays + daysInMonth;
                const nextMonthPaddingDays = (7 - (totalDaysRendered % 7)) % 7; // Ensure it wraps to 0 if total is multiple of 7

                for (let i = 1; i <= nextMonthPaddingDays; i++) {
                    daysEl.appendChild(createDayElement(i, false, false));
                }
            }

            /**
             * Helper function to create a day element
             * @param {number} day - The day number
             * @param {boolean} isCurrentMonth - Flag for current month
             * @param {boolean} isToday - Flag for today's date
             */
            function createDayElement(day, isCurrentMonth, isToday) {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'calendar-day p-2 bg-white dark:bg-gray-800 relative transition duration-150 ease-in-out';
                
                const dayNumber = document.createElement('span');
                dayNumber.textContent = day;
                dayNumber.className = 'text-sm';

                if (isToday) {
                    // Highlight for the current day
                    dayNumber.className = 'absolute top-1 right-2 w-7 h-7 flex items-center justify-center bg-blue-600 text-white rounded-full font-semibold';
                    // No dark mode specific override needed here, as the blue background works well in both.
                    dayDiv.classList.add('font-semibold');
                } else if (isCurrentMonth) {
                    // Standard day in the current month
                    dayNumber.className = 'absolute top-2 right-2 text-gray-700 dark:text-gray-200';
                } else {
                    // Day not in the current month (padding day)
                    dayNumber.className = 'absolute top-2 right-2 text-gray-400 dark:text-gray-500';
                    dayDiv.classList.add('bg-gray-50', 'dark:bg-gray-700'); // Lighter bg for padding days
                }

                dayDiv.appendChild(dayNumber);
                return dayDiv;
            }

            // --- Event Listeners ---
            prevBtn.addEventListener('click', () => {
                currentDate.setMonth(currentDate.getMonth() - 1);
                renderCalendar();
            });

            nextBtn.addEventListener('click', () => {
                currentDate.setMonth(currentDate.getMonth() + 1);
                renderCalendar();
            });

            // --- Initial Render ---
            renderCalendar();
        });
    </script>
</body>
</html>

